# iOS 커뮤니티 기능 분석 및 웹/안드로이드 누락 기능 보고서

## 📱 iOS 커뮤니티 기능 현황

### 1. 사용자 프로필 및 팀 선택 기능

#### iOS 구현 상태 ✅
- **프로필 설정 (ProfileSetupView.swift)**
  - 닉네임 설정 (최대 10자 제한)
  - 좋아하는 팀 선택 기능
  - 프로필 첫 설정과 수정 구분
  - 팀 변경 시 기존 팀 언팔로우 및 새 팀 팔로우 자동 처리
  - 5대 리그별 팀 선택 UI (세그먼트 선택)

- **UserProfile 모델 (CommunityModels.swift)**
  ```swift
  - userId: 인증 사용자 ID
  - nickname: 닉네임
  - avatarUrl: 프로필 이미지
  - favoriteTeamId/Name: 좋아하는 팀
  - fanTeam: TeamBadgeInfo (팀 뱃지 정보)
  - level: 사용자 레벨
  - postCount/commentCount: 활동 통계
  ```

#### 웹 구현 상태 ⚠️
- 프로필 설정 페이지 존재 (`/profile/setup/page.tsx`)
- 닉네임과 팀 선택 기능 구현됨
- **누락된 기능:**
  - 사용자 레벨 시스템 ❌
  - 활동 통계 (게시글/댓글 수) ❌
  - 프로필 이미지 업로드 ❌

#### 안드로이드 구현 상태 ⚠️
- 프로필 설정 화면 존재 (`ProfileSetupScreen.kt`)
- **누락된 기능:**
  - 전체 프로필 시스템 구현 미완성 ❌
  - 팀 선택 기능 미구현 ❌
  - 사용자 레벨/뱃지 시스템 ❌

### 2. 팀별 게시판 접근 방식

#### iOS 구현 상태 ✅
- **게시판 타입 구분**
  - 전체 게시판 (`all`)
  - 팀별 게시판 (`team`)
- **팀 게시판 그룹화**
  - 5대 리그별로 팀 게시판 그룹화
  - 내 팀 게시판 우선 표시
  - 리그별 팀 순서 커스텀 정렬
- **실시간 연결 상태 표시**
  - RealtimeConnectionStatus 관리
  - 게시판별 실시간 구독

#### 웹 구현 상태 ✅
- 팀별 게시판 라우팅 구현 (`/community/boards/[boardId]`)
- 게시판 목록 컴포넌트 (`board-list.tsx`)
- **누락된 기능:**
  - 실시간 연결 상태 표시 ❌
  - 리그별 그룹화 UI 개선 필요 ⚠️

#### 안드로이드 구현 상태 ❌
- **누락된 기능:**
  - 팀별 게시판 구분 미구현 ❌
  - 게시판 목록 화면 (`BoardListScreen.kt`) 기본 구조만 존재
  - 실시간 기능 미구현 ❌

### 3. 게시글 작성/수정/삭제 권한

#### iOS 구현 상태 ✅
- **권한 체크 시스템 (BoardPermission)**
  ```swift
  - canRead: 읽기 권한
  - canWrite: 쓰기 권한  
  - canComment: 댓글 권한
  - reason: 권한 없는 경우 이유
  ```
- **권한 규칙**
  - 전체 게시판: 로그인 사용자만 작성 가능
  - 팀 게시판: 해당 팀 팬만 작성 가능
  - 읽기는 모두 가능

#### 웹 구현 상태 ⚠️
- 게시글 작성 페이지 존재 (`/community/boards/[boardId]/write`)
- **누락된 기능:**
  - 체계적인 권한 검증 시스템 ❌
  - 팀 게시판 작성 권한 검증 미구현 ❌

#### 안드로이드 구현 상태 ❌
- **누락된 기능:**
  - 게시글 작성/수정/삭제 기능 전체 미구현 ❌
  - 권한 시스템 미구현 ❌

### 4. 댓글 시스템

#### iOS 구현 상태 ✅
- **댓글 기능**
  - 댓글 작성/수정/삭제
  - 대댓글 지원 (parentCommentId)
  - 댓글 좋아요
  - 실시간 댓글 업데이트
- **댓글 모델 (CommunityComment)**
  ```swift
  - author: 작성자 프로필
  - likeCount: 좋아요 수
  - parentCommentId: 대댓글
  - isLiked: 현재 사용자 좋아요 상태
  ```

#### 웹 구현 상태 ⚠️
- 게시글 상세 페이지에서 댓글 표시
- **누락된 기능:**
  - 대댓글 시스템 ❌
  - 댓글 좋아요 기능 ❌
  - 실시간 댓글 업데이트 ❌

#### 안드로이드 구현 상태 ❌
- **누락된 기능:**
  - 댓글 시스템 전체 미구현 ❌

### 5. 좋아요/북마크 기능

#### iOS 구현 상태 ✅
- **좋아요 기능**
  - 게시글 좋아요 토글
  - 댓글 좋아요
  - 좋아요 수 실시간 업데이트
- **북마크 기능**
  - 게시글 북마크 (모델에 포함)

#### 웹 구현 상태 ⚠️
- **누락된 기능:**
  - 좋아요 기능 UI만 존재, 백엔드 연동 미완성 ⚠️
  - 북마크 기능 미구현 ❌

#### 안드로이드 구현 상태 ❌
- **누락된 기능:**
  - 좋아요/북마크 기능 전체 미구현 ❌

### 6. 실시간 알림

#### iOS 구현 상태 ✅
- **알림 타입 (NotificationType)**
  - 새 댓글 알림
  - 게시글 좋아요 알림
  - 댓글 좋아요 알림
  - 멘션 알림
- **실시간 기능**
  - Supabase Realtime 구독
  - 게시글/댓글 실시간 업데이트
  - 연결 상태 관리 및 재연결 로직

#### 웹 구현 상태 ❌
- **누락된 기능:**
  - 실시간 알림 시스템 전체 미구현 ❌
  - Realtime 구독 미구현 ❌

#### 안드로이드 구현 상태 ❌
- **누락된 기능:**
  - 알림 시스템 전체 미구현 ❌

### 7. 사용자 레벨/뱃지 시스템

#### iOS 구현 상태 ✅
- **사용자 레벨**
  - UserProfile에 level 필드 포함
- **팀 뱃지 (TeamBadgeInfo)**
  - 팀 인증 여부 (isVerified)
  - 인증 날짜 (verifiedAt)
- **사용자 뱃지 (UserBadge)**
  - 뱃지 타입, 이름, 아이콘, 색상

#### 웹 구현 상태 ❌
- **누락된 기능:**
  - 사용자 레벨 시스템 미구현 ❌
  - 뱃지 시스템 미구현 ❌
  - 팀 인증 시스템 미구현 ❌

#### 안드로이드 구현 상태 ❌
- **누락된 기능:**
  - 레벨/뱃지 시스템 전체 미구현 ❌

## 📊 플랫폼별 구현 현황 요약

| 기능 | iOS | 웹 | 안드로이드 |
|------|-----|-----|------------|
| 사용자 프로필 설정 | ✅ | ⚠️ | ⚠️ |
| 팀 선택 기능 | ✅ | ✅ | ❌ |
| 팀별 게시판 | ✅ | ✅ | ❌ |
| 게시글 CRUD | ✅ | ⚠️ | ❌ |
| 댓글 시스템 | ✅ | ⚠️ | ❌ |
| 대댓글 | ✅ | ❌ | ❌ |
| 좋아요/북마크 | ✅ | ⚠️ | ❌ |
| 실시간 업데이트 | ✅ | ❌ | ❌ |
| 알림 시스템 | ✅ | ❌ | ❌ |
| 사용자 레벨 | ✅ | ❌ | ❌ |
| 뱃지 시스템 | ✅ | ❌ | ❌ |
| 권한 관리 | ✅ | ⚠️ | ❌ |

## 🎯 우선순위 권장사항

### 웹 플랫폼
1. **긴급**
   - 실시간 업데이트 구현 (Supabase Realtime)
   - 권한 관리 시스템 완성
   - 좋아요 기능 백엔드 연동

2. **중요**
   - 대댓글 시스템
   - 사용자 레벨/뱃지 시스템
   - 알림 시스템

3. **개선**
   - 프로필 이미지 업로드
   - 북마크 기능
   - 리그별 게시판 그룹화 UI

### 안드로이드 플랫폼
1. **긴급**
   - 기본 커뮤니티 기능 구현 (게시글 CRUD)
   - 팀 선택 및 프로필 설정 완성
   - 게시판 목록 및 상세 화면

2. **중요**
   - 댓글 시스템
   - 좋아요 기능
   - 권한 관리

3. **향후**
   - 실시간 기능
   - 알림 시스템
   - 레벨/뱃지 시스템