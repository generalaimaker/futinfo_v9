# 뉴스 중복 제거 시스템

## 문제
60개 이상의 RSS 소스에서 뉴스를 수집하면 같은 사건에 대해 여러 소스가 보도하므로 중복 기사가 대량 발생합니다.

## 해결 방법

### 1. 고급 중복 감지 알고리즘

#### 유사도 판단 기준
1. **제목 유사도 (85% 이상)**
   - Jaccard 유사도와 Levenshtein 거리 병합 사용
   - 텍스트 정규화 후 비교

2. **시간 근접성 (4시간 이내)**
   - 같은 사건은 비슷한 시간대에 보도됨

3. **핵심 키워드 매칭 (70% 이상)**
   - 불용어 제거 후 주요 키워드 추출
   - 선수명, 팀명, 숫자 등 중요 정보 우선

4. **특별 케이스**
   - 이적 뉴스: 선수명이 같으면 동일 뉴스로 판단
   - 공식 발표: 정확히 같은 내용이면 중복

### 2. 최적 기사 선택 알고리즘

중복 그룹에서 가장 좋은 기사를 선택하는 점수 시스템:

#### 점수 구성 (총 100점)
- **소스 신뢰도 (40점)**
  - [OFFICIAL]: 40점
  - [Tier 1]: 38점  
  - [Verified]: 36점
  - [Reliable]: 28점
  - [Rumour]: 16점

- **콘텐츠 품질 (30점)**
  - 적절한 요약 길이
  - 제목-내용 일관성
  - 공식 마커 존재 (🚨, ✅)

- **시간 최신성 (20점)**
  - 최신 기사일수록 높은 점수

- **제목 품질 (10점)**
  - 적절한 길이
  - 클릭베이트 단어 감점
  - 구체적 정보 포함 가점

### 3. 클러스터링 표시

#### UI 개선사항
- **중복 개수 표시**: "+5" 같은 배지로 표시
- **소스 목록**: 탭하면 모든 소스 확인 가능
- **신뢰도 순 정렬**: 가장 신뢰할 수 있는 소스 우선 표시

### 4. 성능 최적화

#### 빠른 해시 기반 중복 제거
- 제목의 주요 단어로 해시 생성
- 시간대별 버킷팅
- O(n) 시간 복잡도

## 구현 파일

1. **NewsDeduplicationService.swift**
   - 기본 중복 제거 알고리즘
   - 유사도 계산 및 클러스터링

2. **EnhancedNewsDeduplicationService.swift**
   - 클러스터 정보 포함 버전
   - 빠른 중복 제거 옵션

3. **ClusteredNewsCard.swift**
   - 중복 뉴스 UI 컴포넌트
   - 확장 가능한 소스 목록

## 효과

- **중복 감소**: 60개 소스에서 평균 70-80% 중복 제거
- **품질 향상**: 가장 신뢰할 수 있는 소스의 기사 우선
- **투명성**: 사용자가 모든 소스 확인 가능
- **성능**: 빠른 해시 기반 알고리즘으로 실시간 처리

## 예시

같은 이적 뉴스를 5개 소스가 보도한 경우:
1. Sky Sports [Tier 1] - 선택됨 (신뢰도 높음)
2. BBC Sport ✓
3. Goal.com [Reliable]
4. Mirror [Rumour]
5. Metro Sport

→ Sky Sports 기사만 표시되고 "+4" 배지로 추가 소스 표시